<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript Sandbox</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/ncloudchat/ncloudchat.min.js"></script>
  </head>

  <body>
    <script>
      let nc = null;
      nc = new ncloudchat.Chat(true);
      nc.initialize("fdf90d02-f9f4-4e91-a53f-5d2180025d50");
      nc.setLang("en");
      nc.setServerUrl("https://dashboard-api.beta-ncloudchat.naverncp.com");
      nc.setSocketUrl("https://soc.beta-ncloudchat.ntruss.com");
      function clickInitialize() {
        const ncloudchat = require("ncloudchat");
        const nc = new ncloudchat.Chat();
        var project_id = "fdf90d02-f9f4-4e91-a53f-5d2180025d50";
        var region = "beta";
        var language = "en";
        nc.initialize(project_id, region, language);
      }

      async function clickConnect() {
        try {
          await nc.connect({
            id: radevJsSandbox,
            name: radevJsSandbox,
            language: en,
          });
        } catch (e) {
          console.log(e);
        }
      }

      async function clickGetUsers() {
        try {
          const filter = { id: "radevUnityAOS" };
          const sort = { created_at: -1 };
          const option = { offset: 0, limit: 100 };
          const members = await nc.getUsers(filter, sort, option);
          alert("id : " + members.id);
          alert("name : " + members.name);
        } catch (e) {
          console.log(e);
        }
      }
    </script>

    <button id="btn-initialize" onclick="clickInitialize()">
      initialize()
    </button>
    <button id="btn-connect" onclick="clickConnect()">Connect()</button>
    <button id="btn-getUsers" onclick="clickGetUsers()">getUsers()</button>
  </body>
</html>
